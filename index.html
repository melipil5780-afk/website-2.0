<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sovereign | Web Architecture</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@100;400;700;900&display=swap" rel="stylesheet">
<style>
    :root { --accent: #c5a37d; --dark: #000; }
    * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
    body { background: #000; color: #fff; font-family: 'Montserrat', sans-serif; overflow-x: hidden; width: 100%; -webkit-font-smoothing: antialiased; }

    #bg-canvas { z-index: -1; position: fixed; inset: 0; background: #000; }
    #bg-texture {
        position: fixed; inset: -50%; width: 200%; height: 200%; z-index: -1;
        background: radial-gradient(circle at 15% 25%, rgba(197, 163, 125, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 85% 75%, rgba(60, 100, 150, 0.15) 0%, transparent 50%);
        animation: rotateBg 80s linear infinite; pointer-events: none;
    }
    @keyframes rotateBg { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    #noise { position: fixed; inset: 0; background: url('https://www.transparenttextures.com/patterns/stardust.png'); opacity: 0.2; z-index: 1; pointer-events: none; mix-blend-mode: screen; }
    #spotlight { z-index: 2; position: fixed; inset: 0; background: radial-gradient(circle 500px at var(--x, 50%) var(--y, 50%), transparent 0%, rgba(0,0,0,0.95) 100%); pointer-events: none; }

    section { padding: 25vh 10vw; position: relative; z-index: 10; }
    #hero-tag-top { display: block; font-weight: 900; letter-spacing: 12px; font-size: 0.7rem; color: var(--accent); opacity: 0; transform: translateY(10px); transition: 1s 0.5s forwards; margin-bottom: 10px; }
    .hero-h1 { font-family: 'Cormorant Garamond'; font-size: clamp(2.5rem, 8vw, 7rem); line-height: 1.1; font-weight: 300; margin-bottom: 20px; display: inline-block; position: relative; }
    .word { opacity: 0; display: inline-block; transform: translateY(10px); transition: 0.6s ease; }
    .word.visible { opacity: 1; transform: translateY(0); }
    .bounce-line { width: 0%; height: 1px; background: var(--accent); position: absolute; bottom: -5px; left: 0; transition: width 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .line-active { width: 100%; }
    .hero-sub { max-width: 600px; font-size: 1.1rem; opacity: 0; line-height: 1.8; border-left: 1px solid rgba(197,163,125,0.3); padding-left: 30px; transition: 1.5s 0.8s forwards; color: #ccc; margin-top: 40px;}
    .reveal .hero-sub, .reveal #hero-tag-top { opacity: 1; transform: translateY(0); }

    #gallery { padding: 0 5vw; position: relative; z-index: 20; }
    .project-card { position: -webkit-sticky; position: sticky; top: 5vh; height: 85vh; width: 100%; margin-bottom: 20vh; display: flex; flex-direction: column; background: rgba(5,5,5,0.96); backdrop-filter: blur(25px); border-top: 1px solid rgba(197, 163, 125, 0.35); padding: 25px; box-shadow: 0 -30px 60px rgba(0,0,0,0.8); }
    .image-frame { width: 100%; height: 55vh; overflow: hidden; border: 1px solid rgba(255,255,255,0.08); position: relative; background: #111; }
    .image-canvas { position: absolute; inset: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 1s; z-index: 2; }
    .fallback-img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; filter: brightness(0.5); z-index: 1; transition: 0.5s; }
    .project-card:hover .fallback-img { filter: brightness(1); }
    .view-label { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); letter-spacing: 5px; font-size: 0.7rem; font-weight: 900; opacity: 0; transition: 0.3s; pointer-events: none; background: rgba(0,0,0,0.6); padding: 15px 25px; border: 1px solid var(--accent); z-index: 10; }
    .project-card:hover .view-label { opacity: 1; }

    #modal { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; opacity: 0; transition: 0.5s; align-items: center; justify-content: center; }
    #modal.open { display: flex; opacity: 1; }
    #modal-canvas { width: 92vw; height: 85vh; border: 1px solid rgba(197,163,125,0.3); }
    #close-modal { position: fixed; top: 30px; right: 30px; font-size: 2rem; color: var(--accent); background: none; border: 1px solid var(--accent); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10001; }

    .style-message { padding: 25vh 10vw; text-align: center; }
    .shimmer-text { font-family: 'Cormorant Garamond'; font-size: clamp(2rem, 6vw, 4.5rem); background: linear-gradient(90deg, #333, #fff, #333); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shine 3s linear infinite; }
    @keyframes shine { to { background-position: 200% center; } }

    #final-section { background: #fff; color: #000; padding: 20vh 10vw; text-align: center; z-index: 100; position: relative; }
    .cta-btn { display: inline-block; padding: 20px 50px; background: #000; color: #fff; text-decoration: none; font-weight: 900; letter-spacing: 3px; }

    #c { width: 6px; height: 6px; background: #fff; z-index: 10001; position: fixed; mix-blend-mode: difference; border-radius: 50%; pointer-events: none;}
    #ca { width: 45px; height: 45px; border: 1px solid var(--accent); border-radius: 50%; position: fixed; z-index: 10001; transition: 0.1s; pointer-events: none;}

    @media (max-width: 768px) { #c, #ca, #spotlight { display: none; } }
</style>
</head>
<body onmousemove="handleMove(event)">

<div id="loader" style="position:fixed; inset:0; background:#000; z-index:9999; display:flex; align-items:center; justify-content:center; transition: 1s;">
    <div id="loader-n" style="font-family:'Cormorant Garamond'; font-size:8vw; color:var(--accent);">0</div>
</div>

<div id="modal"><button id="close-modal" onclick="closeModal()">âœ•</button><canvas id="modal-canvas"></canvas></div>

<div id="bg-texture"></div>
<div id="noise"></div>
<div id="spotlight"></div>
<canvas id="bg-canvas"></canvas>
<div id="c"></div><div id="ca"></div>

<section id="hero-sec">
    <span id="hero-tag-top">DIGITAL ARCHITECTURE</span>
    <div style="display:inline-block; position:relative;">
        <h1 class="hero-h1" id="hero-text"></h1>
        <div class="bounce-line" id="hero-line"></div>
    </div>
    <p class="hero-sub">From a blank canvas to clinical authority. I architect the digital foundation for practitioners ready to establish their online sovereignty.</p>
</section>

<div id="gallery">
    <div class="project-card">
        <div class="image-frame">
            <canvas class="image-canvas"></canvas>
            <img class="fallback-img" src="Screenshot_24-12-2025_131027_melipil5780-afk.github.io.jpeg">
            <div class="view-label">SEE FULL WEBSITE</div>
        </div>
        <h2 style="font-family: 'Cormorant Garamond'; font-size: 2.5rem; margin-top: 20px;">The Grounded Space</h2>
    </div>
    <div class="project-card">
        <div class="image-frame">
            <canvas class="image-canvas"></canvas>
            <img class="fallback-img" src="healing.jpg">
            <div class="view-label">SEE FULL WEBSITE</div>
        </div>
        <h2 style="font-family: 'Cormorant Garamond'; font-size: 2.5rem; margin-top: 20px;">Somatic Safety</h2>
    </div>
    <div class="project-card">
        <div class="image-frame">
            <canvas class="image-canvas"></canvas>
            <img class="fallback-img" src="Screenshot_24-12-2025_122136_melipil5780-afk.github.io.jpeg">
            <div class="view-label">SEE FULL WEBSITE</div>
        </div>
        <h2 style="font-family: 'Cormorant Garamond'; font-size: 2.5rem; margin-top: 20px;">Analytical Soul</h2>
    </div>
    <div class="project-card">
        <div class="image-frame">
            <canvas class="image-canvas"></canvas>
            <img class="fallback-img" src="Screenshot_24-12-2025_122627_melipil5780-afk.github.io.jpeg">
            <div class="view-label">SEE FULL WEBSITE</div>
        </div>
        <h2 style="font-family: 'Cormorant Garamond'; font-size: 2.5rem; margin-top: 20px;">Clinical Precision</h2>
    </div>
</div>

<div class="style-message">
    <h2 class="shimmer-text">Built from your vision.</h2>
</div>

<section id="final-section">
    <h2 style="font-family:'Cormorant Garamond'; font-size: 3rem; margin-bottom: 20px;">Ready to exist online?</h2>
    <a href="booking.html" class="cta-btn">START MY WEBSITE</a>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script>
    // --- FILENAMES MATCHED TO YOUR GITHUB (2025) ---
    const imgSources = [
        'Screenshot_24-12-2025_131027_melipil5780-afk.github.io.jpeg',
        'healing.jpg',
        'Screenshot_24-12-2025_122136_melipil5780-afk.github.io.jpeg',
        'Screenshot_24-12-2025_122627_melipil5780-afk.github.io.jpeg'
    ];

    function create3D(canvas, imgSrc, isModal = false) {
        const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: false });
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setSize(canvas.clientWidth, canvas.clientHeight);

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(50, canvas.clientWidth / canvas.clientHeight, 0.1, 10);
        camera.position.z = isModal ? 1.4 : 1.7;

        new THREE.TextureLoader().load(imgSrc, (tex) => {
            const mat = new THREE.ShaderMaterial({
                uniforms: { u_time: { value: 0 }, u_tex: { value: tex }, u_bright: { value: isModal ? 1.0 : 0.6 } },
                vertexShader: `varying vec2 vUv; uniform float u_time; void main() { vUv = uv; vec3 p = position; p.z += sin(p.x * 4.0 + u_time) * 0.05; gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0); }`,
                fragmentShader: `varying vec2 vUv; uniform sampler2D u_tex; uniform float u_bright; void main() { vec4 c = texture2D(u_tex, vUv); gl_FragColor = vec4(c.rgb * u_bright, c.a); }`,
                transparent: true
            });
            scene.add(new THREE.Mesh(new THREE.PlaneGeometry(2, 2, 32, 32), mat));
            canvas.style.opacity = "1";
        });

        function anim() {
            requestAnimationFrame(anim);
            if(scene.children[0]) scene.children[0].material.uniforms.u_time.value += 0.02;
            renderer.render(scene, camera);
        }
        anim();
        return renderer;
    }

    document.querySelectorAll('.image-canvas').forEach((c, i) => create3D(c, imgSources[i]));

    let activeMod = null;
    document.querySelectorAll('.project-card').forEach((card, i) => {
        card.onclick = () => {
            if(activeMod) activeMod.dispose();
            document.getElementById('modal').classList.add('open');
            activeMod = create3D(document.getElementById('modal-canvas'), imgSources[i], true);
        };
    });
    function closeModal() { document.getElementById('modal').classList.remove('open'); }

    // Background & Effects
    const bgC = document.getElementById('bg-canvas'), btx = bgC.getContext('2d');
    let dots = [];
    function initBg() {
        bgC.width = window.innerWidth; bgC.height = window.innerHeight;
        dots = Array.from({length: 80}, () => ({ x: Math.random()*bgC.width, y: Math.random()*bgC.height, vx: (Math.random()-0.5)*0.2, vy: (Math.random()-0.5)*0.2 }));
    }
    function draw() {
        btx.clearRect(0,0,bgC.width, bgC.height);
        dots.forEach(d => {
            d.x += d.vx; d.y += d.vy;
            if(d.x<0||d.x>bgC.width) d.vx*=-1; if(d.y<0||d.y>bgC.height) d.vy*=-1;
            btx.fillStyle = "rgba(255,255,255,0.5)"; btx.beginPath(); btx.arc(d.x, d.y, 1, 0, 7); btx.fill();
        });
        requestAnimationFrame(draw);
    }
    initBg(); draw();
    window.onresize = initBg;

    function handleMove(e) {
        document.getElementById('spotlight').style.setProperty('--x', e.clientX + 'px');
        document.getElementById('spotlight').style.setProperty('--y', e.clientY + 'px');
        document.getElementById('c').style.left = e.clientX+'px'; document.getElementById('c').style.top = e.clientY+'px';
        document.getElementById('ca').style.left = (e.clientX-22)+'px'; document.getElementById('ca').style.top = (e.clientY-22)+'px';
    }

    let l = 0, iv = setInterval(() => {
        l += 5; document.getElementById('loader-n').innerText = l;
        if(l >= 100) { clearInterval(iv); document.getElementById('loader').style.display = "none"; document.getElementById('hero-sec').classList.add('reveal'); revealText("I Build Elite Therapy Websites.", document.getElementById('hero-text')); }
    }, 30);

    function revealText(t, c) {
        c.innerHTML = t.split(" ").map(w => `<span class="word">${w}</span>`).join(" ");
        c.querySelectorAll('.word').forEach((s, i) => setTimeout(() => s.classList.add('visible'), i * 200));
    }
</script>
</body>
</html>
