<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sovereign | Web Architecture</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@100;400;700;900&display=swap" rel="stylesheet">
<style>
    :root { --accent: #c5a37d; --dark: #000; }
    * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
    body { background: #000; color: #fff; font-family: 'Montserrat', sans-serif; overflow-x: hidden; width: 100%; -webkit-font-smoothing: antialiased; }

    /* Background Effects */
    #bg-canvas { z-index: -1; position: fixed; inset: 0; background: #000; }
    #noise { position: fixed; inset: 0; background: url('https://www.transparenttextures.com/patterns/stardust.png'); opacity: 0.2; z-index: 1; pointer-events: none; mix-blend-mode: screen; }
    #spotlight { z-index: 2; position: fixed; inset: 0; background: radial-gradient(circle 500px at var(--x, 50%) var(--y, 50%), transparent 0%, rgba(0,0,0,0.95) 100%); pointer-events: none; }

    section { padding: 20vh 10vw; position: relative; z-index: 10; }
    
    /* Hero Section */
    .hero-h1 { font-family: 'Cormorant Garamond'; font-size: clamp(2.5rem, 8vw, 7rem); line-height: 1.1; font-weight: 300; margin-bottom: 20px; }
    .word { opacity: 0; display: inline-block; transform: translateY(10px); transition: 0.6s ease; }
    .word.visible { opacity: 1; transform: translateY(0); }

    /* About Me Section */
    #about { display: flex; align-items: center; gap: 50px; background: rgba(10,10,10,0.8); border-top: 1px solid rgba(197,163,125,0.2); flex-wrap: wrap; }
    .about-text { flex: 1; min-width: 300px; }
    .about-text h2 { font-family: 'Cormorant Garamond'; font-size: 3rem; color: var(--accent); margin-bottom: 20px; }
    .about-text p { line-height: 1.8; color: #ccc; margin-bottom: 15px; font-size: 1.05rem; }
    .profile-frame { width: 350px; height: 350px; position: relative; border-radius: 50%; overflow: hidden; border: 1px solid var(--accent); }
    #profile-canvas { width: 100%; height: 100%; }

    /* Gallery */
    #gallery { padding: 0 5vw; margin-bottom: 10vh; }
    .project-card { position: sticky; top: 10vh; height: 75vh; width: 100%; margin-bottom: 25vh; background: #050505; border: 1px solid rgba(197, 163, 125, 0.3); padding: 20px; box-shadow: 0 -20px 50px rgba(0,0,0,0.9); }
    .image-frame { width: 100%; height: 50vh; overflow: hidden; position: relative; background: #111; cursor: pointer; }
    .image-canvas { position: absolute; inset: 0; width: 100%; height: 100%; }
    .view-label { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); letter-spacing: 5px; font-size: 0.7rem; font-weight: 900; background: var(--accent); color: #000; padding: 15px 25px; opacity: 0; transition: 0.3s; z-index: 10; }
    .project-card:hover .view-label { opacity: 1; }

    /* Modal / Iframe */
    #modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 10000; display: none; align-items: center; justify-content: center; opacity: 0; transition: 0.5s; }
    #modal.open { display: flex; opacity: 1; }
    #modal-frame { width: 90vw; height: 85vh; border: 1px solid var(--accent); background: #fff; }
    #close-modal { position: fixed; top: 20px; right: 20px; background: none; border: 1px solid var(--accent); color: var(--accent); width: 45px; height: 45px; border-radius: 50%; cursor: pointer; z-index: 10001; }

    /* Final Footer */
    #final-section { background: #fff; color: #000; padding: 15vh 10vw; text-align: center; z-index: 100; position: relative; margin-top: 20vh; }
    .price-tag { font-size: 1.2rem; margin: 20px 0; font-weight: 700; letter-spacing: 1px; }
    .old-price { text-decoration: line-through; opacity: 0.4; margin-right: 15px; }
    .new-price { color: #b30000; border-bottom: 2px solid #b30000; }
    .cta-btn { display: inline-block; padding: 20px 50px; background: #000; color: #fff; text-decoration: none; font-weight: 900; letter-spacing: 3px; transition: 0.3s; }
    .cta-btn:hover { background: var(--accent); }

    /* Custom Cursor */
    #c { width: 6px; height: 6px; background: #fff; z-index: 10001; position: fixed; mix-blend-mode: difference; border-radius: 50%; pointer-events: none;}
    #ca { width: 45px; height: 45px; border: 1px solid var(--accent); border-radius: 50%; position: fixed; z-index: 10001; transition: 0.1s; pointer-events: none;}

    @media (max-width: 768px) { #c, #ca, #spotlight { display: none; } .profile-frame { width: 250px; height: 250px; margin: 0 auto; } }
</style>
</head>
<body onmousemove="handleMove(event)">

<div id="loader" style="position:fixed; inset:0; background:#000; z-index:9999; display:flex; align-items:center; justify-content:center; transition: 1s;">
    <div id="loader-n" style="font-family:'Cormorant Garamond'; font-size:8vw; color:var(--accent);">0</div>
</div>

<div id="modal">
    <button id="close-modal" onclick="closeModal()">✕</button>
    <iframe id="modal-frame" src=""></iframe>
</div>

<div id="noise"></div>
<div id="spotlight"></div>
<canvas id="bg-canvas"></canvas>
<div id="c"></div><div id="ca"></div>

<section id="hero-sec">
    <h1 class="hero-h1" id="hero-text"></h1>
    <p style="color:var(--accent); letter-spacing:5px; font-weight:900; font-size:0.7rem;">ELITE DIGITAL ARCHITECTURE FOR THERAPISTS</p>
</section>

<section id="about">
    <div class="profile-frame">
        <canvas id="profile-canvas"></canvas>
    </div>
    <div class="about-text">
        <h2>The Vision</h2>
        <p>As a mental health counselor, I’ve seen the gap. You see "the elite" with thousands to spend on custom sites, while most private practitioners are left with basic profiles that don't truly showcase their unique therapeutic approach.</p>
        <p>My dream is to help therapists establish their <strong>online sovereignty</strong> without the burden of massive upfront costs or endless monthly subscriptions. One payment. One foundation. Your legacy.</p>
    </div>
</section>

<div id="gallery">
    <div class="project-card">
        <div class="image-frame" onclick="openModal('https://melipil5780-afk.github.io/')">
            <canvas class="image-canvas"></canvas>
            <div class="view-label">EXPLORE LIVE SITE</div>
        </div>
        <h2 style="font-family: 'Cormorant Garamond'; font-size: 2.5rem; margin-top: 20px;">The Clinical Space</h2>
    </div>
    </div>

<section id="final-section">
    <h2 style="font-family:'Cormorant Garamond'; font-size: 3.5rem;">Sovereignty Starts Here.</h2>
    <div class="price-tag">
        <span class="old-price">$1499</span>
        <span class="new-price">$1099 FULL ARCHITECTURE</span>
    </div>
    <p style="margin-bottom: 30px; opacity: 0.7;">No monthly fees. Just a small yearly domain fee. That's it.</p>
    <a href="booking.html" class="cta-btn">CLAIM YOUR SPACE</a>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script>
    const imgSources = [
        'Screenshot_24-12-2025_131027_melipil5780-afk.github.io.jpeg',
        'healing.jpg'
    ];
    
    // Replace with your actual GitHub image link for the About Me section
    const myProfileImg = 'healing.jpg'; 

    function create3D(canvas, imgSrc, isProfile = false) {
        const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: false });
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.setSize(canvas.clientWidth, canvas.clientHeight);

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(50, canvas.clientWidth / canvas.clientHeight, 0.1, 10);
        camera.position.z = 1.5;

        new THREE.TextureLoader().load(imgSrc, (tex) => {
            const geometry = isProfile ? new THREE.CircleGeometry(1, 64) : new THREE.PlaneGeometry(2, 2, 32, 32);
            const mat = new THREE.ShaderMaterial({
                uniforms: { u_time: { value: 0 }, u_tex: { value: tex } },
                vertexShader: `varying vec2 vUv; uniform float u_time; void main() { vUv = uv; vec3 p = position; p.z += sin(p.x * 2.0 + u_time) * 0.03; gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0); }`,
                fragmentShader: `varying vec2 vUv; uniform sampler2D u_tex; void main() { vec4 c = texture2D(u_tex, vUv); gl_FragColor = c; }`,
                transparent: true
            });
            scene.add(new THREE.Mesh(geometry, mat));
        });

        function anim() {
            requestAnimationFrame(anim);
            if(scene.children[0]) scene.children[0].material.uniforms.u_time.value += 0.02;
            renderer.render(scene, camera);
        }
        anim();
    }

    // Initialize Canvas
    document.querySelectorAll('.image-canvas').forEach((c, i) => create3D(c, imgSources[i]));
    create3D(document.getElementById('profile-canvas'), myProfileImg, true);

    // Modal Control
    function openModal(url) {
        const m = document.getElementById('modal');
        document.getElementById('modal-frame').src = url;
        m.style.display = 'flex';
        setTimeout(() => m.classList.add('open'), 10);
    }
    function closeModal() {
        const m = document.getElementById('modal');
        m.classList.remove('open');
        setTimeout(() => { m.style.display = 'none'; document.getElementById('modal-frame').src = ""; }, 500);
    }

    // Cursor and Spotlight
    function handleMove(e) {
        document.getElementById('spotlight').style.setProperty('--x', e.clientX + 'px');
        document.getElementById('spotlight').style.setProperty('--y', e.clientY + 'px');
        document.getElementById('c').style.left = e.clientX+'px'; document.getElementById('c').style.top = e.clientY+'px';
        document.getElementById('ca').style.left = (e.clientX-22)+'px'; document.getElementById('ca').style.top = (e.clientY-22)+'px';
    }

    // Simple Loader
    let l = 0, iv = setInterval(() => {
        l += 5; document.getElementById('loader-n').innerText = l;
        if(l >= 100) { 
            clearInterval(iv); 
            document.getElementById('loader').style.opacity = "0";
            setTimeout(() => document.getElementById('loader').style.display = "none", 1000);
            revealText("Holding Space for Those Who Heal.", document.getElementById('hero-text')); 
        }
    }, 30);

    function revealText(t, c) {
        c.innerHTML = t.split(" ").map(w => `<span class="word">${w}</span>`).join(" ");
        c.querySelectorAll('.word').forEach((s, i) => setTimeout(() => s.classList.add('visible'), i * 150));
    }
</script>
</body>
</html>
