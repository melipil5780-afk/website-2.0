<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sovereign | 4D Clinical Architecture</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@100;400;700;900&display=swap" rel="stylesheet">
<style>
    :root { --accent: #c5a37d; --dark: #050505; --text-sub: #bbb; }
    * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
    
    body { 
        background: var(--dark); 
        color: #fff; 
        font-family: 'Montserrat', sans-serif; 
        transition: background 1.2s ease;
        overflow-x: hidden;
        perspective: 1200px; /* Enables 3D Space */
    }

    /* --- 4D ATMOSPHERE --- */
    #bg-canvas { z-index: -1; position: fixed; inset: 0; background: #000; }
    #noise { position: fixed; inset: 0; background: url('https://www.transparenttextures.com/patterns/stardust.png'); opacity: 0.15; z-index: 1; pointer-events: none; }
    
    #spotlight { 
        z-index: 2; position: fixed; inset: 0;
        background: radial-gradient(circle 600px at var(--x, 50%) var(--y, 50%), transparent 0%, rgba(0,0,0,0.98) 100%); 
        pointer-events: none;
    }

    /* --- LOADER --- */
    #loader { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; transition: 1s cubic-bezier(1,0,0,1); }
    #loader-n { font-family: 'Cormorant Garamond'; font-size: 8vw; color: var(--accent); font-weight: 300; }

    /* --- HERO --- */
    section { padding: 30vh 10vw; position: relative; z-index: 10; transform-style: preserve-3d; }
    .hero-h1 { 
        font-family: 'Cormorant Garamond'; 
        font-size: clamp(2.5rem, 8vw, 7.5rem); 
        line-height: 0.9; 
        transform: translateZ(50px); /* Pushes text toward user */
        text-shadow: 0 20px 50px rgba(0,0,0,1);
    }

    /* --- 3D GALLERY --- */
    .gallery-label-container { padding: 15vh 10vw 5vh; position: relative; z-index: 10; }
    .gallery-h2 { font-family: 'Cormorant Garamond'; font-size: clamp(3rem, 6vw, 5rem); font-weight: 300; }

    #gallery { padding: 0 10vw; position: relative; z-index: 20; }
    
    .project-card { 
        position: sticky; top: 10vh; height: 80vh; width: 100%; margin-bottom: 25vh; 
        display: flex; flex-direction: column; 
        background: rgba(10,10,10,0.8);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(197, 163, 125, 0.15);
        padding: 40px;
        transform-style: preserve-3d;
        transition: transform 0.1s ease-out; /* Smooth 3D tilt */
        box-shadow: 0 50px 100px rgba(0,0,0,0.5);
    }
    
    .image-frame { 
        width: 100%; height: 50vh; position: relative; overflow: hidden; 
        transform: translateZ(30px); /* Floats above card */
        border: 1px solid rgba(255,255,255,0.05);
    }
    .image-frame img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.6); transition: 0.8s; }
    .project-card:hover .image-frame img { filter: brightness(1); transform: scale(1.1); }

    .view-btn { 
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) translateZ(60px); 
        padding: 20px 40px; background: #fff; color: #000; font-weight: 900; 
        letter-spacing: 4px; font-size: 0.7rem; opacity: 0; transition: 0.4s;
    }
    .project-card:hover .view-btn { opacity: 1; }

    .scramble-title { transform: translateZ(80px); margin-top: 30px; font-family: 'Cormorant Garamond'; font-size: clamp(2rem, 4vw, 3.5rem); }
    .explanation { transform: translateZ(40px); color: #888; margin-top: 10px; max-width: 600px; }

    /* --- MODAL --- */
    #img-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 10000; display: none; align-items: center; justify-content: center; transition: 0.5s; }
    #modal-content { max-width: 90%; max-height: 80%; border: 1px solid var(--accent); transform: scale(0.8); transition: 0.5s; }
    #img-modal.active #modal-content { transform: scale(1); }
    #modal-close { position: absolute; top: 30px; right: 40px; color: #fff; font-size: 3rem; pointer-events: auto; }

    /* --- FINAL SECTION --- */
    #final-section { background: #fff; color: #000; padding: 25vh 10vw; text-align: center; position: relative; z-index: 100; transition: 1.5s cubic-bezier(0.7,0,0.3,1); }
    .cta-btn { display: inline-block; padding: 25px 80px; background: #000; color: #fff; text-decoration: none; font-weight: 900; letter-spacing: 6px; animation: pulse 2.5s infinite; transition: 0.4s; }

    /* --- 4D CURSOR --- */
    #c { width: 6px; height: 6px; background: #fff; z-index: 10001; position: fixed; mix-blend-mode: difference; border-radius: 50%; pointer-events: none;}
    #ca { width: 40px; height: 40px; border: 1px solid var(--accent); border-radius: 50%; position: fixed; z-index: 10001; transition: 0.15s cubic-bezier(0.17, 0.67, 0.83, 0.67); pointer-events: none;}

    @media (max-width: 768px) {
        #c, #ca, #spotlight { display: none !important; }
        .project-card { position: relative; top: 0; height: auto; transform: none !important; margin-bottom: 50px; }
        .image-frame { transform: none !important; height: 40vh; }
        .view-btn { opacity: 1; transform: translate(-50%, 0); top: auto; bottom: 20px; width: 90%; }
    }
</style>
</head>
<body>

<div id="loader"><div id="loader-n">0</div></div>
<div id="noise"></div>
<div id="spotlight"></div>
<canvas id="bg-canvas"></canvas>
<div id="c"></div><div id="ca"></div>

<div id="img-modal" onclick="closeModal()">
    <div id="modal-close">âœ•</div>
    <img id="modal-content" src="">
</div>

<section id="hero-sec">
    <h1 class="hero-h1" id="scramble-hero"></h1>
</section>

<div class="gallery-label-container">
    <h2 class="gallery-h2">The Gallery</h2>
</div>

<div id="gallery">
    <div class="project-card" onmousemove="tilt(event, this)" onmouseleave="resetTilt(this)">
        <div class="image-frame" onclick="openModal('Screenshot_24-12-2025_131027_melipil5780-afk.github.io.jpeg')">
            <img src="Screenshot_24-12-2025_131027_melipil5780-afk.github.io.jpeg">
            <div class="view-btn">EXPAND ARCHITECTURE</div>
        </div>
        <h2 class="scramble-title" onmouseenter="dive(this, 'Ecotherapy Hub')" onmouseleave="dive(this, 'The Grounded Space')">The Grounded Space</h2>
        <p class="explanation">A 4D digital environment that uses depth layers to simulate a therapeutic forest path.</p>
    </div>

    <div class="project-card" onmousemove="tilt(event, this)" onmouseleave="resetTilt(this)">
        <div class="image-frame" onclick="openModal('healing.jpg')">
            <img src="healing.jpg">
            <div class="view-btn">EXPAND ARCHITECTURE</div>
        </div>
        <h2 class="scramble-title" onmouseenter="dive(this, 'Trauma Informed')" onmouseleave="dive(this, 'Somatic Safety')">Somatic Safety</h2>
        <p class="explanation">Architecture focused on containment. Every layer is designed to provide visual safety.</p>
    </div>
</div>

<section id="final-section">
    <h2 style="font-family: 'Cormorant Garamond'; font-size: 3rem; margin-bottom: 40px;">I architect the first step of the journey.</h2>
    <h3 style="font-size: 5rem; font-weight: 900;">$599</h3>
    <p style="letter-spacing: 5px; color: var(--accent); margin-bottom: 40px;">FOUNDER RATE</p>
    <a href="mailto:contact@domain.com" class="cta-btn">AUDIT MY SITE</a>
</section>

<script>
    // 3D TILT LOGIC
    function tilt(e, el) {
        const rect = el.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const xc = rect.width / 2;
        const yc = rect.height / 2;
        const dx = (x - xc) / 20;
        const dy = (y - yc) / 20;
        el.style.transform = `rotateY(${dx}deg) rotateX(${-dy}deg)`;
    }
    function resetTilt(el) {
        el.style.transform = `rotateY(0deg) rotateX(0deg)`;
    }

    // INTERACTIVE PARTICLES (The 4D "Aether")
    const canvas = document.getElementById('bg-canvas'), ctx = canvas.getContext('2d');
    let dots = [], mouse = {x: -100, y: -100};
    function init() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        dots = Array.from({length: 60}, () => ({ 
            x: Math.random()*canvas.width, y: Math.random()*canvas.height, 
            ox: 0, oy: 0, r: Math.random()*2, 
            v: Math.random()*0.5 + 0.2 
        }));
    }
    window.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX; mouse.y = e.clientY;
        document.getElementById('spotlight').style.setProperty('--x', e.clientX+'px');
        document.getElementById('spotlight').style.setProperty('--y', e.clientY+'px');
        document.getElementById('c').style.left = e.clientX+'px';
        document.getElementById('c').style.top = e.clientY+'px';
        document.getElementById('ca').style.left = (e.clientX-20)+'px';
        document.getElementById('ca').style.top = (e.clientY-20)+'px';
    });

    function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        dots.forEach(d => {
            const dx = mouse.x - d.x;
            const dy = mouse.y - d.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            if(dist < 200) {
                d.ox -= dx/20; d.oy -= dy/20; // Particles flee from mouse
            }
            d.ox *= 0.96; d.oy *= 0.96;
            ctx.fillStyle = "rgba(197, 163, 125, 0.3)";
            ctx.beginPath(); ctx.arc(d.x + d.ox, d.y + d.oy, d.r, 0, Math.PI*2); ctx.fill();
        });
        requestAnimationFrame(draw);
    }
    init(); draw();

    // MODAL
    function openModal(src) {
        document.getElementById('modal-content').src = src;
        document.getElementById('img-modal').style.display = 'flex';
        setTimeout(() => document.getElementById('img-modal').classList.add('active'), 10);
    }
    function closeModal() {
        document.getElementById('img-modal').classList.remove('active');
        setTimeout(() => document.getElementById('img-modal').style.display = 'none', 500);
    }

    // SCRAMBLE & LOADER (Same as before but faster)
    let lCount = 0;
    let lInt = setInterval(() => {
        lCount += 4;
        if(lCount >= 100) {
            clearInterval(lInt);
            document.getElementById('loader').style.transform = "translateY(-100%)";
            dive(document.getElementById('scramble-hero'), 'I Build Elite Therapy Websites.');
        }
        document.getElementById('loader-n').innerText = lCount;
    }, 30);

    function dive(el, nText) {
        let it = 0; clearInterval(el.iv);
        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        el.iv = setInterval(() => {
            el.innerText = nText.split("").map((l, i) => i < it ? nText[i] : chars[Math.floor(Math.random() * 26)]).join("");
            if(it >= nText.length) clearInterval(el.iv);
            it += 1;
        }, 30);
    }

    // LIGHT TRANSITION
    window.addEventListener('scroll', () => {
        const rect = document.getElementById('final-section').getBoundingClientRect();
        if(rect.top < window.innerHeight / 2) {
            document.body.style.background = "#fff";
            document.getElementById('spotlight').style.opacity = "0";
        } else {
            document.body.style.background = "#050505";
            document.getElementById('spotlight').style.opacity = "1";
        }
    });
</script>
</body>
</html>
